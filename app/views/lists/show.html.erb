<%= render 'lists' %>

<h1 class="grid_7"><%= @list.name %></h1>
<div class="grid_2">
  <%= link_to 'Edit', edit_list_path(@list), :class => "button" %>
  <%= link_to 'Delete', @list, :confirm => 'Are you sure?', :method => :delete, :class => "button" %>
</div>
<div class="grid_9">
  <ul class="tasks">
    <% @list.tasks.each do |task| %>
      <li class="<%= task.complete ? 'complete' : ''%>">
        <%= check_box_tag "complete[#{task.id}]", true, task.complete, :rel => complete_task_path(@list.id,task.id) %>
        <label for="<%= "complete_#{task.id}" %>">
          <%= task.name %>
          <% if task.due? %>
            <strong class="due">(<%= task.due %>)</strong>
          <% end %>
        </label>
        <%= link_to 'Delete', [@list, task], :confirm => 'Are you sure?', :method => :delete, :class => "button small right" %>
        <%= link_to 'Edit', edit_list_task_path(@list, task), :class => "button small right" %>
      </li>
    <% end %>
  </ul>
  
  <%= form_for [@list, @task] do |form| %>
    <%= form.text_field :name, :placeholder => "New Task" %> <%= form.text_field :due, :type=>'date', :class=>'datepicker', :placeholder => "Date Due" %> <%= form.submit %>
  <% end %>
</div>